{% extends 'product/base.html' %}
{% load widget_tweaks %}

{% block title %}Thanh toán{% endblock %}

{% block content %}
<div class="container py-4">
     <h3 class="text-center mb-4 text-primary">🧾 Xác nhận đơn hàng</h3>

     <div class="row justify-content-center">
          <div class="col-md-6">
               <form method="post" class="card p-4 shadow-sm border-0 bg-light rounded-3">
                    {% csrf_token %}

                    {% if form.non_field_errors %}
                    <div class="alert alert-danger small">
                         {{ form.non_field_errors }}
                    </div>
                    {% endif %}

                    <div class="mb-3">
                         <label class="form-label">👤 Họ và tên</label>
                         {{ form.name|add_class:"form-control form-control-sm" }}
                         <div class="text-danger small">{{ form.name.errors }}</div>
                    </div>

                    <div class="mb-3">
                         <label class="form-label">📞 Số điện thoại</label>
                         {{ form.phone|add_class:"form-control form-control-sm" }}
                         <div class="text-danger small">{{ form.phone.errors }}</div>
                    </div>

                    <div class="mb-3">
                         <label class="form-label">📍 Địa chỉ giao hàng</label>
                         {{ form.address|add_class:"form-control form-control-sm" }}
                         <div class="text-danger small">{{ form.address.errors }}</div>
                    </div>

                    <div class="mb-3">
                         <label class="form-label">📝 Ghi chú (nếu có)</label>
                         {{ form.note|add_class:"form-control form-control-sm" }}
                         <div class="text-danger small">{{ form.note.errors }}</div>
                    </div>

                    <div class="alert alert-info text-end py-2 px-3 mb-4 small">
                         <strong>Tổng tiền:</strong> {{ cart.get_total_price|floatformat:0 }}₫
                    </div>

                    <div class="d-flex justify-content-between">
                         <a href="{% url 'view_cart' %}" class="btn btn-outline-secondary btn-sm">⬅️ Giỏ hàng</a>
                         <button type="submit" class="btn btn-primary btn-sm">✅ Đặt hàng</button>
                    </div>
               </form>
          </div>
     </div>
</div>
{% endblock %}